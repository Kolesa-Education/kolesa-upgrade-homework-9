{% extends "base.twig" %}

{% block body %}
    <h1>Изменить объявление</h1>

    {% if errors is not empty %}
        <div style="color: red">При сохранении произошла ошибка</div>
        <ul>
            {% for error in errors %}
                <li>
                    {{ error }}
                </li>
            {% endfor %}
        </ul>
    {% endif %}
    <form action="/adverts/{id}/edit" method="post">
        <div>
            <label>
                ID *
                <input type="text" name="advert[id]" value="{{ advertVal.getId() ?? '' }}" readonly>
                {% if errors.id %}
                    <div style="color: red">{{ errors.id }}</div>
                {% endif %}
            </label>
        </div>
        <br>

        <div>
            <label>
                Категория *
                <select name="advert[category]" required> 
                    <option value="Электроника" 
                    {% if advertVal.getCategory() == "Электроника" %}
                    selected 
                    {% endif %}
                    >
                        Электроника
                    </option>

                    <option value="Транспорт"                    
                    {% if advertVal.getCategory() == "Транспорт" %}
                    selected 
                    {% endif %}
                    >
                        Транспорт
                    </option>

                   <option value="Мебель"
                    {% if advertVal.getCategory() == "Мебель" %}
                    selected 
                    {% endif %}
                   >
                        Мебель
                    </option>

                   <option value="Недвижимость"
                    {% if advertVal.getCategory() == "Недвижимость" %}
                    selected 
                    {% endif %}>
                        Недвижимость
                    </option>
                </select>


                {% if errors.category %}
                    <div style="color: red">{{ errors.id }}</div>
                {% endif %}
            </label>
        </div>
        <br>


        <div>
            <label>
                Заголовок *
                <input type="text" name="advert[title]" value="{{ advertVal.getTitle() ?? '' }}">
                {% if errors.title %}
                    <div style="color: red">{{ errors.title }}</div>
                {% endif %}
            </label>
        </div>
        <br>
        <div>
            <label>
                Описание *
                <input type="text" name="advert[description]" value="{{ advertVal.getDescription() ?? '' }}">
                {% if errors.description %}
                    <div style="color: red">{{ errors.description }}</div>
                {% endif %}
            </label>
        </div>
        <br>
        <div>
            <label>
                Цена *
                <input type="number" name="advert[price]" value="{{ advertVal.getPrice() ?? 0 }}">
                {% if errors.price %}
                    <div style="color: red">{{ errors.price }}</div>
                {% endif %}
            </label>
        </div>
        <br>
        <input type="submit" value="Edit">
    </form>
{% endblock %}
